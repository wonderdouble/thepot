{"version":3,"sources":["../../src/blog/blog.js"],"names":["makeBlog","blogInfo","validBlog","validate","normalBlog","normalize","Object","freeze","author","topic","comment","otherInfo","validateName","label","name","length","InvalidPropertyError","replace"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEe,SAASA,QAAT,CACXC,QAAQ,GAAG,4BAAc,UAAd,CADA,EAEd;AAEG,QAAMC,SAAS,GAAGC,QAAQ,CAACF,QAAD,CAA1B;AACA,QAAMG,UAAU,GAAEC,SAAS,CAACH,SAAD,CAA3B;AACA,SAAOI,MAAM,CAACC,MAAP,CAAcH,UAAd,CAAP;;AAEA,WAASD,QAAT,CAAmB;AACfK,IAAAA,MAAM,GAAG,4BAAc,QAAd,CADM;AAEfC,IAAAA,KAAK,GAAG,4BAAc,OAAd,CAFO;AAGfC,IAAAA,OAAO,GAAG,4BAAc,SAAd,CAHK;AAIf,OAAGC;AAJY,MAKb,EALN,EAKU;AACNC,IAAAA,YAAY,CAAC,QAAD,EAAWJ,MAAX,CAAZ;AACAI,IAAAA,YAAY,CAAC,OAAD,EAAUH,KAAV,CAAZ;AACA,WAAO;AAAED,MAAAA,MAAF;AAAUC,MAAAA,KAAV;AAAiBC,MAAAA,OAAjB;AAA0B,SAAGC;AAA7B,KAAP;AACD;;AAED,WAASC,YAAT,CAAuBC,KAAvB,EAA8BC,IAA9B,EAAoC;AAClC,QAAIA,IAAI,CAACC,MAAL,GAAc,CAAlB,EAAqB;AACnB,YAAM,IAAIC,4BAAJ,CACH,UAASH,KAAM,sCADZ,CAAN;AAGD;AACF;;AAED,WAASR,SAAT,CAAoB;AAAEG,IAAAA,MAAF;AAAUC,IAAAA,KAAV;AAAiBC,IAAAA,OAAjB;AAA0B,OAAGC;AAA7B,GAApB,EAA8D;AAC5D,WAAO,EACL,GAAGA,SADE;AAELH,MAAAA,MAAM,EAAE,yBAAWA,MAAX,CAFH;AAGLC,MAAAA,KAAK,EAAE,yBAAWA,KAAX,CAHF;AAILC,MAAAA,OAAO,EAAEA,OAAO,CAACO,OAAR,CAAgB,iBAAhB,EAAmC,MAAnC;AAJJ,KAAP;AAMD;AACN","sourcesContent":["import requiredParam from '../helpers/required-param';\nimport { InvalidPropertyError } from '../helpers/errors';\nimport isValidEmail from '../helpers/is-valid-email.js';\nimport upperFirst from '../helpers/upper-first';\n\nexport default function makeBlog(\n    blogInfo = requiredParam('blogInfo')\n){\n    \n    const validBlog = validate(blogInfo);\n    const normalBlog= normalize(validBlog);\n    return Object.freeze(normalBlog);\n\n    function validate ({\n        author = requiredParam('author'),\n        topic = requiredParam('topic'),\n        comment = requiredParam('comment'),\n        ...otherInfo\n      } = {}) {\n        validateName('author', author)\n        validateName('topic', topic)\n        return { author, topic, comment, ...otherInfo }\n      }\n    \n      function validateName (label, name) {\n        if (name.length < 2) {\n          throw new InvalidPropertyError(\n            `Blog's ${label} must be at least 2 characters long.`\n          )\n        }\n      }\n\n      function normalize ({ author, topic, comment, ...otherInfo }) {\n        return {\n          ...otherInfo,\n          author: upperFirst(author),\n          topic: upperFirst(topic),\n          comment: comment.replace(/(?:\\r\\n|\\r|\\n)/g, '<br>')\n        }\n      }\n}\n"],"file":"blog.js"}