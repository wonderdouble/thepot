{"version":3,"sources":["../src/index.js"],"names":["cors","require","app","use","bodyParser","json","port","process","env","PORT","express","urlencoded","extended","post","sendmailController","req","res","httpRequest","then","headers","statusCode","data","set","status","send","catch","e","end","all","adminController","get","archiveController","blogController","propertyController","propertyUploadController","messageController","handleMessageRequest","staffController","newsletterController","contactController","subscribersController","listen","console","log"],"mappings":"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","sourcesContent":["import express from 'express'\nimport bodyParser from 'body-parser'\nimport handleBlogRequest from './blog'\nimport handleAdminRequest from './admin'\nimport handleArchiveRequest from './archive'\n\nimport handlePropertyRequest from './property'\nimport handlePropertyUploadRequest from './property-upload'\nimport handleContactRequest from './contact'\nimport handleStaffRequest from './staff'\nimport handleNewsletterRequest from './newsletter'\nimport handleSubscribersRequest from './subscribers'\nimport handleSendmailRequest from './mailer'\n\nimport adaptRequest from './helpers/adapt-request'\n\nvar cors = require('cors')\nconst app = express();\napp.use(bodyParser.json());\n\nconst port = process.env.PORT || 9090;\n\n//Middleware\napp.use(express.urlencoded({ extended: true}));\napp.use(express.json());\n\napp.use(cors());\n\napp.post('/sendmail', sendmailController);\n\nfunction sendmailController (req, res) {\n  const httpRequest = adaptRequest(req)\n  handleSendmailRequest(httpRequest)\n      .then(({ headers, statusCode, data }) =>\n      res\n          .set(headers)\n          .status(statusCode) \n          .send(data)\n      )\n      .catch(e => res.status(500).end())\n}\n\napp.all('/admin', adminController);\napp.post('/admin/add', adminController);\napp.post('/admin/auth', adminController);\napp.post('/admin/reset', adminController);\napp.get('/admin/:id', adminController);\napp.get('/admin/?email=:email', adminController);\n\nfunction adminController (req, res) {\n  const httpRequest = adaptRequest(req)\n  handleAdminRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n    res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\napp.all('/archive', archiveController);\napp.post('/archive/add', archiveController);\napp.get('/archive/:id', archiveController);\napp.get('/archive/?id=:id', archiveController);\n\nfunction archiveController (req, res) {\n    const httpRequest = adaptRequest(req)\n    handleArchiveRequest(httpRequest)\n        .then(({ headers, statusCode, data }) =>\n        res\n            .set(headers)\n            .status(statusCode) \n            .send(data)\n        )\n        .catch(e => res.status(500).end())\n}\n\napp.all('/blog', blogController);\napp.post('/blog/add', blogController);\napp.get('/blog/:id', blogController);\napp.get('/blog/?id=:id', blogController);\napp.get('/blog/?min=:min', blogController);\n\nfunction blogController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleBlogRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\napp.all('/property', propertyController);\napp.post('/property/add', propertyController);\napp.get('/property/:id', propertyController);\napp.get('/property/?id=:id', propertyController);\napp.get('/property/?min=:min', propertyController);\n\nfunction propertyController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handlePropertyRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n// app.all('/property_details', propertyDetailsController);\n// app.get('/property_details/:id', propertyDetailsController);\n\n// function propertyDetailsController (req, res) {\n  \n//   const httpRequest = adaptRequest(req)\n//   handlePropertyDetailsRequest(httpRequest)\n//     .then(({ headers, statusCode, data }) =>\n//       res\n//         .set(headers)\n//         .status(statusCode) \n//         .send(data)\n//     )\n//     .catch(e => res.status(500).end())\n// }\n\napp.all('/property-upload', propertyUploadController);\napp.post('/property-upload/add', propertyUploadController);\napp.get('/property-upload/:id', propertyUploadController);\napp.get('/property-upload/?id=:id', propertyUploadController);\napp.get('/property-upload/?property_id=:property_id', propertyUploadController);\n\nfunction propertyUploadController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handlePropertyUploadRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\napp.all('/message', messageController);\napp.get('/message/:id', messageController);\n\nfunction messageController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleMessageRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\napp.all('/staff', staffController);\napp.post('/staff/add', staffController);\napp.get('/staff/:id', staffController);\napp.get('/staff/?id=:id', staffController);\napp.get('/staff/?email=:email', staffController);\napp.get('/staff/?department=:department', staffController);\n\nfunction staffController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleStaffRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\napp.all('/newsletter', newsletterController);\napp.post('/newsletter/add', newsletterController);\napp.get('/newsletter/:id', newsletterController);\n\nfunction newsletterController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleNewsletterRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\napp.all('/contact', contactController);\napp.post('/contact/add', contactController);\napp.get('/contact/:id', contactController);\n\nfunction contactController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleContactRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\napp.all('/subscribers', subscribersController);\napp.post('/subscribers/add', subscribersController);\napp.get('/subscribers/:id', subscribersController);\napp.get('/subscribers/?id=:id', subscribersController);\napp.get('/subscribers/?estate_name=:estate_name', subscribersController);\napp.get('/subscribers/?estate_id=:estate_id', subscribersController);\napp.get('/subscribers/?email=:email', subscribersController)\n\n\nfunction subscribersController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleSubscribersRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\napp.listen(port, () => console.log(`Listening on port 9090`+process.env.PORT || 9090));\n\n\n\n"],"file":"index.js"}